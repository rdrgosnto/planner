<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Planner | Mapa</title>

<style>
body{
  font-family:Arial;
  margin:0;
  padding:0;
  display:flex;
  flex-direction:column;
  min-height:100vh;
  justify-content:center;
  background:#fff
}

#bus-wrapper{
  transform:scale(.8);
  transform-origin:top center;
  display:none
}

.bus-container{
  padding:20px;
  border:3px solid #b0b0b0;
  border-radius:16px;
  width:fit-content;
  margin:20px auto;
  position:relative;
  display:flex;
  justify-content:center
}

.grid{
  display:grid;
  grid-template-columns:repeat(5,54px);
  gap:14px 10px;
  justify-content:center;
  justify-items:center
}

.seat,.empty{
  width:54px;
  height:54px;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:12px;
  position:relative
}

/* ðŸŽ¨ POLTRONA REFINADA */
.seat{
  background:#4CAF50;
  border:3px solid #4CAF50;
  color:#fff;
  font-weight:bold;
  cursor:pointer;
  box-shadow:
    inset 0 2px 4px rgba(255,255,255,.25),
    inset 0 -3px 6px rgba(0,0,0,.18);
  transition:
    transform .15s ease,
    opacity .15s ease
}

.seat::after{
  content:"";
  position:absolute;
  bottom:-8px;
  left:50%;
  transform:translateX(-50%);
  width:32px;
  height:14px;
  border-radius:8px;
  background:#fff;
  border:3px solid #8c96b2
}

.seat.white{
  background:#fff!important;
  border:3px solid #8c96b2!important;
  color:transparent!important;
  cursor:default!important;
  pointer-events:none!important;
  box-shadow:none!important
}

.seat.white::after{
  border-color:#8c96b2!important
}

/* âœ… SELECIONADA */
.seat.selected{
  background:#e74c3c;
  border-color:#e74c3c;
  transform:scale(1.06);
  z-index:2
}

/* ðŸ‘€ VIZINHAS */
.seat.neighbor{
  opacity:.65
}

.empty{background:0 0}

/* BLOQUEADAS */
.seat.lost{
  background:#b0b0b0!important;
  border-color:#b0b0b0!important;
  color:transparent!important;
  pointer-events:none!important;
  box-shadow:none!important
}

.seat.lost::before{
  content:"âœ–";
  color:#fff;
  font-size:28px;
  font-weight:bold;
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%)
}

#confirmarBtn{
  width:112px;
  height:54px;
  background:#4CAF50;
  color:#fff;
  border:none;
  font-size:16px;
  font-weight:bold;
  border-radius:12px;
  cursor:pointer;
  position:absolute;
  bottom:-64px;
  right:20px
}
</style>
</head>

<body>

<div id="bus-wrapper">
  <div class="bus-container">
    <button id="confirmarBtn">CONFIRMAR</button>
  </div>
</div>

<script>
const q=(s,d=document)=>d.querySelector(s)

let sel=null

const clearNeighbors=()=>{
  document.querySelectorAll(".seat.neighbor")
    .forEach(e=>e.classList.remove("neighbor"))
}

const markNeighbors=(seat)=>{
  clearNeighbors()
  const all=[...document.querySelectorAll(".seat")]
  const i=all.indexOf(seat)
  if(all[i-1]) all[i-1].classList.add("neighbor")
  if(all[i+1]) all[i+1].classList.add("neighbor")
}

const selSeat=e=>{
  if(e.classList.contains("white")||e.classList.contains("lost"))return
  if(sel){
    sel.classList.remove("selected")
    clearNeighbors()
  }
  sel = sel!==e ? (e.classList.add("selected"), markNeighbors(e), e) : null
}

const grid=document.createElement("div")
grid.className="grid"
q(".bus-container").appendChild(grid)

/* ðŸ”¢ SIMULAÃ‡ÃƒO DE 46 POLTRONAS (layout intacto) */
let n=1
for(let i=0;i<46;i++){
  const d=document.createElement("div")
  if(i%5===2){
    d.className="empty"
  }else{
    d.className="seat"
    d.textContent=String(n++).padStart(2,"0")
    d.onclick=()=>selSeat(d)
  }
  grid.appendChild(d)
}

q("#bus-wrapper").style.display="block"
</script>

</body>
</html>
