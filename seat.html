<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Planner</title>
<style>
/* Geral */
*{box-sizing:border-box}
body{margin:0;font-family:Arial,sans-serif;background:#fff;display:flex;justify-content:center;align-items:center;height:100vh;flex-direction:column;overflow:hidden}

/* Splash */
#splash{position:fixed;inset:0;z-index:9;display:flex;flex-direction:column;justify-content:center;align-items:center;background:#fff}
#splash b{font-size:36px;color:#4CAF50;margin-bottom:10px}
#splash i{width:120px;height:2px;background:#e0e0e0;overflow:hidden}
#splash i:after{content:"";display:block;width:40px;height:100%;background:#4CAF50;animation:l .9s infinite}
@keyframes l{from{transform:translateX(-40px)}to{transform:translateX(120px)}}

/* Login */
.app{width:90%;max-width:300px;visibility:hidden}
label{font-size:16px;color:#333;margin:0 0 6px 2px}
.row{display:flex;align-items:center;gap:8px;border-bottom:1px solid #ccc}
.row:focus-within{border-color:#ccc}
.row.err{border-color:#e53935}
.row.ok{border-color:#4CAF50}
input{flex:1 1 auto;min-width:0;border:0;padding:10px 2px;font-size:18px;background:0;outline:0}
input::placeholder{font-size:16px;color:#999}
button{flex:0 0 auto;max-width:35%;padding:6px 12px;border:1px solid #aaa;border-radius:20px;background:0;color:#aaa;font-size:14px;font-weight:bold;white-space:nowrap}
button.ready{background:#4CAF50;color:#fff;border-color:#4CAF50;cursor:pointer}

/* Mapa */
#bus-wrapper{transform:scale(.8);transform-origin:top center;display:none}
.bus-container{padding:20px;border:3px solid #b0b0b0;border-radius:16px;width:fit-content;margin:20px auto;position:relative;display:flex;justify-content:center}
.grid{display:grid;grid-template-columns:repeat(5,54px);gap:14px 10px;justify-content:center;justify-items:center}
.seat,.empty{width:54px;height:54px;display:flex;align-items:center;justify-content:center;border-radius:12px;position:relative}
.seat{background:#4CAF50;border:3px solid #4CAF50;color:#fff;font-weight:bold;cursor:pointer}
.seat::after{content:"";position:absolute;bottom:-8px;left:50%;transform:translateX(-50%);width:32px;height:14px;border-radius:8px;background:#fff;border:3px solid #8c96b2}
.seat.white{background:#fff!important;border:3px solid #8c96b2!important;color:transparent!important;cursor:default!important;pointer-events:none!important}
.seat.white::after{border-color:#8c96b2!important}
.seat.selected{background:#e74c3c;border-color:#e74c3c}
.empty{background:0 0}
.seat.lost{background:#b0b0b0!important;border-color:#b0b0b0!important;color:transparent!important;pointer-events:none!important}
.seat.lost::before{content:"✖";color:#fff;font-size:28px;font-weight:bold;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}
</style>
</head>
<body>

<!-- Splash -->
<div id="splash"><b>Planner</b><i></i></div>

<!-- Login -->
<div class="app">
  <label>CPF</label>
  <div class="row">
    <input id="cpf" placeholder="CPF (somente números)" inputmode="numeric" pattern="[0-9]*" autocomplete="off">
    <button id="btn" disabled>ENTRAR</button>
  </div>
</div>

<!-- Layout de poltronas -->
<div id="bus-wrapper">
  <div class="bus-container">
    <div class="grid" id="grid"></div>
  </div>
</div>

<script>
/* SPLASH */
setTimeout(()=>{document.getElementById("splash").remove();document.querySelector(".app").style.visibility="visible"},1600);

/* LOGIN */
const cpf = document.getElementById("cpf");
const btn = document.getElementById("btn");
const validCPF = "35128248895";

cpf.oninput = ()=>{
  const nums = cpf.value.replace(/\D/g,"");
  cpf.value = nums;
  btn.disabled = nums!==validCPF;
  btn.className = btn.disabled?"":"ready";
};

/* FULLSCREEN E MOSTRAR MAPA */
btn.onclick = ()=>{
  if(btn.disabled) return;
  // Fullscreen
  if(document.documentElement.requestFullscreen) document.documentElement.requestFullscreen();
  // Esconde login
  document.querySelector(".app").style.display = "none";
  // Mostra mapa
  document.getElementById("bus-wrapper").style.display = "flex";

  // Renderizar layout de assentos
  const layout = [
    [1,2,3,4,5],
    [6,7,8,9,10],
    [11,12,13,14,15],
    [16,17,18,19,20],
    [21,22,23,24,25],
    [26,27,28,29,30],
    [31,32,33,34,35],
    [36,37,38,39,40],
    [41,42,43,44,45],
    [46,47,48,49,50]
  ];
  const grid = document.getElementById("grid");
  grid.innerHTML = "";
  layout.forEach(row=>{
    row.forEach(val=>{
      const seat = document.createElement("div");
      seat.className = "seat";
      seat.textContent = val.toString().padStart(2,"0");
      grid.appendChild(seat);
    });
  });
};
</script>
</body>
</html>
